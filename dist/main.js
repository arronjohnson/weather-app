(()=>{"use strict";const t=document.querySelector(".weather-card__city"),e=document.querySelector(".weather-card__condition"),n=document.querySelector(".weather-card__humidity"),c=document.querySelector(".weather-card__icon"),r=document.querySelector(".weather-card__precipitation"),o=document.querySelector(".search__button"),a=document.querySelector(".search__input"),d=document.querySelector(".weather-card__temp"),i=document.querySelectorAll(".weather-card__unit"),u=document.querySelector(".weather-card__wind");let s="C",l="London";async function _(o){const a=await async function(t){try{const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=1e9bcfae8abd4e01b81104420232908&q=${t}&days=1&aqi=no&alerts=no`,{mode:"cors"});if(!e.ok)throw new Error("Invalid location");return await e.json()}catch(t){return void alert("Invalid location, please use format city country, e.g. London UK")}}(o);void 0!==a&&(c.alt=a.current.condition.text,c.src=`https:${a.current.condition.icon}`,d.textContent=Math.round("C"===s?a.current.temp_c:a.current.temp_f),r.textContent=`${a.forecast.forecastday[0].day.daily_chance_of_rain}%`,n.textContent=`${a.current.humidity}%`,u.textContent=`${a.current.wind_mph} mph`,t.textContent=a.location.name,e.textContent=a.current.condition.text)}function h(){const t=a.value;""!==t&&(l=t,_(t))}o.addEventListener("click",h),a.addEventListener("keydown",(t=>{"Enter"===t.code&&h()})),i.forEach((t=>t.addEventListener("click",(t=>{!function(t){i.forEach((t=>t.classList.remove("weather-card__unit--selected"))),t.classList.add("weather-card__unit--selected"),s=t.dataset.unit}(t.target),_(l)})))),_("London")})();